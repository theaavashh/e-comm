
> @gharsamma/api@0.1.0 dev
> tsx watch src/index.ts

ðŸš€ Server running on port 4444
ðŸ“Š Environment: development
ðŸ”— Health check: http://localhost:4444/health
prisma:query SELECT "public"."users"."id", "public"."users"."email", "public"."users"."username", "public"."users"."role"::text, "public"."users"."isActive" FROM "public"."users" WHERE ("public"."users"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."categories"."id", "public"."categories"."name", "public"."categories"."slug", "public"."categories"."description", "public"."categories"."image", "public"."categories"."isActive", "public"."categories"."parentId", "public"."categories"."createdAt", "public"."categories"."updatedAt", "public"."categories"."internalLink" FROM "public"."categories" WHERE ("public"."categories"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."products"."id", "public"."products"."name", "public"."products"."slug", "public"."products"."description", "public"."products"."shortDescription", "public"."products"."price", "public"."products"."comparePrice", "public"."products"."costPrice", "public"."products"."margin", "public"."products"."sku", "public"."products"."barcode", "public"."products"."upc", "public"."products"."ean", "public"."products"."isbn", "public"."products"."trackQuantity", "public"."products"."quantity", "public"."products"."lowStockThreshold", "public"."products"."allowBackorder", "public"."products"."manageStock", "public"."products"."weight", "public"."products"."weightUnit", "public"."products"."dimensions", "public"."products"."images", "public"."products"."videos", "public"."products"."thumbnail", "public"."products"."seoTitle", "public"."products"."seoDescription", "public"."products"."seoKeywords", "public"."products"."metaTags", "public"."products"."isActive", "public"."products"."isDigital", "public"."products"."isFeatured", "public"."products"."isNew", "public"."products"."isOnSale", "public"."products"."isBestSeller", "public"."products"."visibility"::text, "public"."products"."publishedAt", "public"."products"."categoryId", "public"."products"."tags", "public"."products"."requiresShipping", "public"."products"."shippingClass", "public"."products"."freeShipping", "public"."products"."taxable", "public"."products"."taxClass", "public"."products"."customFields", "public"."products"."notes", "public"."products"."createdAt", "public"."products"."updatedAt", "public"."products"."brandId", "public"."products"."subCategoryId", "public"."products"."canonicalUrl", "public"."products"."focusKeyword", "public"."products"."ogImage" FROM "public"."products" WHERE ("public"."products"."slug" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query INSERT INTO "public"."products" ("id","name","slug","description","shortDescription","price","sku","trackQuantity","quantity","lowStockThreshold","allowBackorder","manageStock","weight","weightUnit","dimensions","images","videos","seoKeywords","isActive","isDigital","isFeatured","isNew","isOnSale","isBestSeller","visibility","publishedAt","categoryId","tags","requiresShipping","freeShipping","taxable","createdAt","updatedAt") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,CAST($25::text AS "public"."ProductVisibility"),$26,$27,$28,$29,$30,$31,$32,$33) RETURNING "public"."products"."id", "public"."products"."name", "public"."products"."slug", "public"."products"."description", "public"."products"."shortDescription", "public"."products"."price", "public"."products"."comparePrice", "public"."products"."costPrice", "public"."products"."margin", "public"."products"."sku", "public"."products"."barcode", "public"."products"."upc", "public"."products"."ean", "public"."products"."isbn", "public"."products"."trackQuantity", "public"."products"."quantity", "public"."products"."lowStockThreshold", "public"."products"."allowBackorder", "public"."products"."manageStock", "public"."products"."weight", "public"."products"."weightUnit", "public"."products"."dimensions", "public"."products"."images", "public"."products"."videos", "public"."products"."thumbnail", "public"."products"."seoTitle", "public"."products"."seoDescription", "public"."products"."seoKeywords", "public"."products"."metaTags", "public"."products"."isActive", "public"."products"."isDigital", "public"."products"."isFeatured", "public"."products"."isNew", "public"."products"."isOnSale", "public"."products"."isBestSeller", "public"."products"."visibility"::text, "public"."products"."publishedAt", "public"."products"."categoryId", "public"."products"."tags", "public"."products"."requiresShipping", "public"."products"."shippingClass", "public"."products"."freeShipping", "public"."products"."taxable", "public"."products"."taxClass", "public"."products"."customFields", "public"."products"."notes", "public"."products"."createdAt", "public"."products"."updatedAt", "public"."products"."brandId", "public"."products"."subCategoryId", "public"."products"."canonicalUrl", "public"."products"."focusKeyword", "public"."products"."ogImage"
prisma:query UPDATE "public"."products" SET "images" = $1, "updatedAt" = $2 WHERE ("public"."products"."id" = $3 AND 1=1) RETURNING "public"."products"."id", "public"."products"."name", "public"."products"."slug", "public"."products"."description", "public"."products"."shortDescription", "public"."products"."price", "public"."products"."comparePrice", "public"."products"."costPrice", "public"."products"."margin", "public"."products"."sku", "public"."products"."barcode", "public"."products"."upc", "public"."products"."ean", "public"."products"."isbn", "public"."products"."trackQuantity", "public"."products"."quantity", "public"."products"."lowStockThreshold", "public"."products"."allowBackorder", "public"."products"."manageStock", "public"."products"."weight", "public"."products"."weightUnit", "public"."products"."dimensions", "public"."products"."images", "public"."products"."videos", "public"."products"."thumbnail", "public"."products"."seoTitle", "public"."products"."seoDescription", "public"."products"."seoKeywords", "public"."products"."metaTags", "public"."products"."isActive", "public"."products"."isDigital", "public"."products"."isFeatured", "public"."products"."isNew", "public"."products"."isOnSale", "public"."products"."isBestSeller", "public"."products"."visibility"::text, "public"."products"."publishedAt", "public"."products"."categoryId", "public"."products"."tags", "public"."products"."requiresShipping", "public"."products"."shippingClass", "public"."products"."freeShipping", "public"."products"."taxable", "public"."products"."taxClass", "public"."products"."customFields", "public"."products"."notes", "public"."products"."createdAt", "public"."products"."updatedAt", "public"."products"."brandId", "public"."products"."subCategoryId", "public"."products"."canonicalUrl", "public"."products"."focusKeyword", "public"."products"."ogImage"
prisma:query DELETE FROM "public"."product_currency_prices" WHERE "public"."product_currency_prices"."productId" = $1
prisma:query BEGIN
prisma:query INSERT INTO "public"."product_currency_prices" ("id","price","createdAt","minDeliveryDays","comparePrice","maxDeliveryDays","isActive","country","updatedAt","productId") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10)
prisma:query COMMIT
prisma:query SELECT "public"."products"."id", "public"."products"."name", "public"."products"."slug", "public"."products"."description", "public"."products"."shortDescription", "public"."products"."price", "public"."products"."comparePrice", "public"."products"."costPrice", "public"."products"."margin", "public"."products"."sku", "public"."products"."barcode", "public"."products"."upc", "public"."products"."ean", "public"."products"."isbn", "public"."products"."trackQuantity", "public"."products"."quantity", "public"."products"."lowStockThreshold", "public"."products"."allowBackorder", "public"."products"."manageStock", "public"."products"."weight", "public"."products"."weightUnit", "public"."products"."dimensions", "public"."products"."images", "public"."products"."videos", "public"."products"."thumbnail", "public"."products"."seoTitle", "public"."products"."seoDescription", "public"."products"."seoKeywords", "public"."products"."metaTags", "public"."products"."isActive", "public"."products"."isDigital", "public"."products"."isFeatured", "public"."products"."isNew", "public"."products"."isOnSale", "public"."products"."isBestSeller", "public"."products"."visibility"::text, "public"."products"."publishedAt", "public"."products"."categoryId", "public"."products"."tags", "public"."products"."requiresShipping", "public"."products"."shippingClass", "public"."products"."freeShipping", "public"."products"."taxable", "public"."products"."taxClass", "public"."products"."customFields", "public"."products"."notes", "public"."products"."createdAt", "public"."products"."updatedAt", "public"."products"."brandId", "public"."products"."subCategoryId", "public"."products"."canonicalUrl", "public"."products"."focusKeyword", "public"."products"."ogImage" FROM "public"."products" WHERE ("public"."products"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."categories"."id", "public"."categories"."name", "public"."categories"."slug" FROM "public"."categories" WHERE "public"."categories"."id" IN ($1) OFFSET $2
prisma:query SELECT "public"."product_pricing_tiers"."id", "public"."product_pricing_tiers"."productId", "public"."product_pricing_tiers"."minQuantity", "public"."product_pricing_tiers"."maxQuantity", "public"."product_pricing_tiers"."price", "public"."product_pricing_tiers"."discount", "public"."product_pricing_tiers"."isActive", "public"."product_pricing_tiers"."createdAt", "public"."product_pricing_tiers"."updatedAt" FROM "public"."product_pricing_tiers" WHERE ("public"."product_pricing_tiers"."isActive" = $1 AND "public"."product_pricing_tiers"."productId" IN ($2)) ORDER BY "public"."product_pricing_tiers"."minQuantity" ASC OFFSET $3
prisma:query SELECT "public"."product_attributes"."id", "public"."product_attributes"."productId", "public"."product_attributes"."name", "public"."product_attributes"."value", "public"."product_attributes"."type"::text, "public"."product_attributes"."isRequired", "public"."product_attributes"."isFilterable", "public"."product_attributes"."sortOrder", "public"."product_attributes"."createdAt", "public"."product_attributes"."updatedAt" FROM "public"."product_attributes" WHERE "public"."product_attributes"."productId" IN ($1) ORDER BY "public"."product_attributes"."sortOrder" ASC OFFSET $2
prisma:query SELECT "public"."product_currency_prices"."id", "public"."product_currency_prices"."productId", "public"."product_currency_prices"."country", "public"."product_currency_prices"."price", "public"."product_currency_prices"."comparePrice", "public"."product_currency_prices"."minDeliveryDays", "public"."product_currency_prices"."maxDeliveryDays", "public"."product_currency_prices"."isActive", "public"."product_currency_prices"."createdAt", "public"."product_currency_prices"."updatedAt" FROM "public"."product_currency_prices" WHERE ("public"."product_currency_prices"."isActive" = $1 AND "public"."product_currency_prices"."productId" IN ($2)) ORDER BY "public"."product_currency_prices"."country" ASC OFFSET $3
2026-01-02 00:37:02:372 [32minfo[39m: [32mProduct created[39m
2026-01-02 00:37:02:372 [35mhttp[39m: [35m::1 - - [01/Jan/2026:18:52:02 +0000] "POST /api/v1/products HTTP/1.1" 201 - "http://localhost:4001/" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36"[39m
prisma:query SELECT "public"."products"."id", "public"."products"."name", "public"."products"."slug", "public"."products"."description", "public"."products"."shortDescription", "public"."products"."price", "public"."products"."comparePrice", "public"."products"."costPrice", "public"."products"."margin", "public"."products"."sku", "public"."products"."barcode", "public"."products"."upc", "public"."products"."ean", "public"."products"."isbn", "public"."products"."trackQuantity", "public"."products"."quantity", "public"."products"."lowStockThreshold", "public"."products"."allowBackorder", "public"."products"."manageStock", "public"."products"."weight", "public"."products"."weightUnit", "public"."products"."dimensions", "public"."products"."images", "public"."products"."videos", "public"."products"."thumbnail", "public"."products"."seoTitle", "public"."products"."seoDescription", "public"."products"."seoKeywords", "public"."products"."metaTags", "public"."products"."isActive", "public"."products"."isDigital", "public"."products"."isFeatured", "public"."products"."isNew", "public"."products"."isOnSale", "public"."products"."isBestSeller", "public"."products"."visibility"::text, "public"."products"."publishedAt", "public"."products"."categoryId", "public"."products"."tags", "public"."products"."requiresShipping", "public"."products"."shippingClass", "public"."products"."freeShipping", "public"."products"."taxable", "public"."products"."taxClass", "public"."products"."customFields", "public"."products"."notes", "public"."products"."createdAt", "public"."products"."updatedAt", "public"."products"."brandId", "public"."products"."subCategoryId", "public"."products"."canonicalUrl", "public"."products"."focusKeyword", "public"."products"."ogImage", COALESCE("aggr_selection_0_Review"."_aggr_count_reviews", 0) AS "_aggr_count_reviews" FROM "public"."products" LEFT JOIN (SELECT "public"."reviews"."productId", COUNT(*) AS "_aggr_count_reviews" FROM "public"."reviews" WHERE 1=1 GROUP BY "public"."reviews"."productId") AS "aggr_selection_0_Review" ON ("public"."products"."id" = "aggr_selection_0_Review"."productId") WHERE "public"."products"."isActive" = $1 ORDER BY "public"."products"."createdAt" DESC LIMIT $2 OFFSET $3
prisma:query SELECT "public"."categories"."id", "public"."categories"."name", "public"."categories"."slug" FROM "public"."categories" WHERE "public"."categories"."id" IN ($1) OFFSET $2
prisma:query SELECT "public"."product_currency_prices"."id", "public"."product_currency_prices"."productId", "public"."product_currency_prices"."country", "public"."product_currency_prices"."price", "public"."product_currency_prices"."comparePrice", "public"."product_currency_prices"."minDeliveryDays", "public"."product_currency_prices"."maxDeliveryDays", "public"."product_currency_prices"."isActive", "public"."product_currency_prices"."createdAt", "public"."product_currency_prices"."updatedAt" FROM "public"."product_currency_prices" WHERE ("public"."product_currency_prices"."isActive" = $1 AND "public"."product_currency_prices"."productId" IN ($2)) ORDER BY "public"."product_currency_prices"."country" ASC OFFSET $3
prisma:query SELECT "public"."product_variants"."id", "public"."product_variants"."name", "public"."product_variants"."value", "public"."product_variants"."price", "public"."product_variants"."comparePrice", "public"."product_variants"."sku", "public"."product_variants"."barcode", "public"."product_variants"."quantity", "public"."product_variants"."weight", "public"."product_variants"."image", "public"."product_variants"."productId" FROM "public"."product_variants" WHERE ("public"."product_variants"."isActive" = $1 AND "public"."product_variants"."productId" IN ($2)) OFFSET $3
prisma:query SELECT "public"."product_pricing_tiers"."id", "public"."product_pricing_tiers"."productId", "public"."product_pricing_tiers"."minQuantity", "public"."product_pricing_tiers"."maxQuantity", "public"."product_pricing_tiers"."price", "public"."product_pricing_tiers"."discount", "public"."product_pricing_tiers"."isActive", "public"."product_pricing_tiers"."createdAt", "public"."product_pricing_tiers"."updatedAt" FROM "public"."product_pricing_tiers" WHERE ("public"."product_pricing_tiers"."isActive" = $1 AND "public"."product_pricing_tiers"."productId" IN ($2)) ORDER BY "public"."product_pricing_tiers"."minQuantity" ASC OFFSET $3
prisma:query SELECT "public"."product_attributes"."id", "public"."product_attributes"."productId", "public"."product_attributes"."name", "public"."product_attributes"."value", "public"."product_attributes"."type"::text, "public"."product_attributes"."isRequired", "public"."product_attributes"."isFilterable", "public"."product_attributes"."sortOrder", "public"."product_attributes"."createdAt", "public"."product_attributes"."updatedAt" FROM "public"."product_attributes" WHERE "public"."product_attributes"."productId" IN ($1) ORDER BY "public"."product_attributes"."sortOrder" ASC OFFSET $2
prisma:query SELECT COUNT(*) FROM (SELECT "public"."products"."id" FROM "public"."products" WHERE "public"."products"."isActive" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."reviews"."id", "public"."reviews"."rating", "public"."reviews"."productId" FROM "public"."reviews" WHERE "public"."reviews"."productId" IN ($1) OFFSET $2
2026-01-02 00:37:02:372 [35mhttp[39m: [35m::1 - - [01/Jan/2026:18:52:02 +0000] "GET /api/v1/products HTTP/1.1" 200 - "http://localhost:4001/" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36"[39m
prisma:query SELECT "public"."users"."id", "public"."users"."email", "public"."users"."username", "public"."users"."role"::text, "public"."users"."isActive" FROM "public"."users" WHERE ("public"."users"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."products"."id", "public"."products"."name", "public"."products"."slug", "public"."products"."description", "public"."products"."shortDescription", "public"."products"."price", "public"."products"."comparePrice", "public"."products"."costPrice", "public"."products"."margin", "public"."products"."sku", "public"."products"."barcode", "public"."products"."upc", "public"."products"."ean", "public"."products"."isbn", "public"."products"."trackQuantity", "public"."products"."quantity", "public"."products"."lowStockThreshold", "public"."products"."allowBackorder", "public"."products"."manageStock", "public"."products"."weight", "public"."products"."weightUnit", "public"."products"."dimensions", "public"."products"."images", "public"."products"."videos", "public"."products"."thumbnail", "public"."products"."seoTitle", "public"."products"."seoDescription", "public"."products"."seoKeywords", "public"."products"."metaTags", "public"."products"."isActive", "public"."products"."isDigital", "public"."products"."isFeatured", "public"."products"."isNew", "public"."products"."isOnSale", "public"."products"."isBestSeller", "public"."products"."visibility"::text, "public"."products"."publishedAt", "public"."products"."categoryId", "public"."products"."tags", "public"."products"."requiresShipping", "public"."products"."shippingClass", "public"."products"."freeShipping", "public"."products"."taxable", "public"."products"."taxClass", "public"."products"."customFields", "public"."products"."notes", "public"."products"."createdAt", "public"."products"."updatedAt", "public"."products"."brandId", "public"."products"."subCategoryId", "public"."products"."canonicalUrl", "public"."products"."focusKeyword", "public"."products"."ogImage" FROM "public"."products" WHERE ("public"."products"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query UPDATE "public"."products" SET "isActive" = $1, "updatedAt" = $2 WHERE ("public"."products"."id" = $3 AND 1=1) RETURNING "public"."products"."id", "public"."products"."name", "public"."products"."slug", "public"."products"."description", "public"."products"."shortDescription", "public"."products"."price", "public"."products"."comparePrice", "public"."products"."costPrice", "public"."products"."margin", "public"."products"."sku", "public"."products"."barcode", "public"."products"."upc", "public"."products"."ean", "public"."products"."isbn", "public"."products"."trackQuantity", "public"."products"."quantity", "public"."products"."lowStockThreshold", "public"."products"."allowBackorder", "public"."products"."manageStock", "public"."products"."weight", "public"."products"."weightUnit", "public"."products"."dimensions", "public"."products"."images", "public"."products"."videos", "public"."products"."thumbnail", "public"."products"."seoTitle", "public"."products"."seoDescription", "public"."products"."seoKeywords", "public"."products"."metaTags", "public"."products"."isActive", "public"."products"."isDigital", "public"."products"."isFeatured", "public"."products"."isNew", "public"."products"."isOnSale", "public"."products"."isBestSeller", "public"."products"."visibility"::text, "public"."products"."publishedAt", "public"."products"."categoryId", "public"."products"."tags", "public"."products"."requiresShipping", "public"."products"."shippingClass", "public"."products"."freeShipping", "public"."products"."taxable", "public"."products"."taxClass", "public"."products"."customFields", "public"."products"."notes", "public"."products"."createdAt", "public"."products"."updatedAt", "public"."products"."brandId", "public"."products"."subCategoryId", "public"."products"."canonicalUrl", "public"."products"."focusKeyword", "public"."products"."ogImage"
2026-01-02 00:37:11:3711 [32minfo[39m: [32mProduct deleted[39m
2026-01-02 00:37:11:3711 [35mhttp[39m: [35m::1 - - [01/Jan/2026:18:52:11 +0000] "DELETE /api/v1/products/cmjvsxldm00014f7v1c8fstqa HTTP/1.1" 200 57 "http://localhost:4001/" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36"[39m
prisma:query SELECT COUNT(*) FROM (SELECT "public"."products"."id" FROM "public"."products" WHERE "public"."products"."isActive" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."products"."id", "public"."products"."name", "public"."products"."slug", "public"."products"."description", "public"."products"."shortDescription", "public"."products"."price", "public"."products"."comparePrice", "public"."products"."costPrice", "public"."products"."margin", "public"."products"."sku", "public"."products"."barcode", "public"."products"."upc", "public"."products"."ean", "public"."products"."isbn", "public"."products"."trackQuantity", "public"."products"."quantity", "public"."products"."lowStockThreshold", "public"."products"."allowBackorder", "public"."products"."manageStock", "public"."products"."weight", "public"."products"."weightUnit", "public"."products"."dimensions", "public"."products"."images", "public"."products"."videos", "public"."products"."thumbnail", "public"."products"."seoTitle", "public"."products"."seoDescription", "public"."products"."seoKeywords", "public"."products"."metaTags", "public"."products"."isActive", "public"."products"."isDigital", "public"."products"."isFeatured", "public"."products"."isNew", "public"."products"."isOnSale", "public"."products"."isBestSeller", "public"."products"."visibility"::text, "public"."products"."publishedAt", "public"."products"."categoryId", "public"."products"."tags", "public"."products"."requiresShipping", "public"."products"."shippingClass", "public"."products"."freeShipping", "public"."products"."taxable", "public"."products"."taxClass", "public"."products"."customFields", "public"."products"."notes", "public"."products"."createdAt", "public"."products"."updatedAt", "public"."products"."brandId", "public"."products"."subCategoryId", "public"."products"."canonicalUrl", "public"."products"."focusKeyword", "public"."products"."ogImage", COALESCE("aggr_selection_0_Review"."_aggr_count_reviews", 0) AS "_aggr_count_reviews" FROM "public"."products" LEFT JOIN (SELECT "public"."reviews"."productId", COUNT(*) AS "_aggr_count_reviews" FROM "public"."reviews" WHERE 1=1 GROUP BY "public"."reviews"."productId") AS "aggr_selection_0_Review" ON ("public"."products"."id" = "aggr_selection_0_Review"."productId") WHERE "public"."products"."isActive" = $1 ORDER BY "public"."products"."createdAt" DESC LIMIT $2 OFFSET $3
2026-01-02 00:37:11:3711 [35mhttp[39m: [35m::1 - - [01/Jan/2026:18:52:11 +0000] "GET /api/v1/products HTTP/1.1" 200 131 "http://localhost:4001/" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36"[39m
prisma:query SELECT 1
prisma:query SELECT "public"."users"."id", "public"."users"."email", "public"."users"."username", "public"."users"."role"::text, "public"."users"."isActive" FROM "public"."users" WHERE ("public"."users"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."categories"."id", "public"."categories"."name", "public"."categories"."slug", "public"."categories"."description", "public"."categories"."image", "public"."categories"."isActive", "public"."categories"."parentId", "public"."categories"."createdAt", "public"."categories"."updatedAt", "public"."categories"."internalLink" FROM "public"."categories" WHERE ("public"."categories"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."products"."id", "public"."products"."name", "public"."products"."slug", "public"."products"."description", "public"."products"."shortDescription", "public"."products"."price", "public"."products"."comparePrice", "public"."products"."costPrice", "public"."products"."margin", "public"."products"."sku", "public"."products"."barcode", "public"."products"."upc", "public"."products"."ean", "public"."products"."isbn", "public"."products"."trackQuantity", "public"."products"."quantity", "public"."products"."lowStockThreshold", "public"."products"."allowBackorder", "public"."products"."manageStock", "public"."products"."weight", "public"."products"."weightUnit", "public"."products"."dimensions", "public"."products"."images", "public"."products"."videos", "public"."products"."thumbnail", "public"."products"."seoTitle", "public"."products"."seoDescription", "public"."products"."seoKeywords", "public"."products"."metaTags", "public"."products"."isActive", "public"."products"."isDigital", "public"."products"."isFeatured", "public"."products"."isNew", "public"."products"."isOnSale", "public"."products"."isBestSeller", "public"."products"."visibility"::text, "public"."products"."publishedAt", "public"."products"."categoryId", "public"."products"."tags", "public"."products"."requiresShipping", "public"."products"."shippingClass", "public"."products"."freeShipping", "public"."products"."taxable", "public"."products"."taxClass", "public"."products"."customFields", "public"."products"."notes", "public"."products"."createdAt", "public"."products"."updatedAt", "public"."products"."brandId", "public"."products"."subCategoryId", "public"."products"."canonicalUrl", "public"."products"."focusKeyword", "public"."products"."ogImage" FROM "public"."products" WHERE ("public"."products"."slug" = $1 AND 1=1) LIMIT $2 OFFSET $3
2026-01-02 00:38:42:3842 [31merror[39m: [31mError occurred:[39m
2026-01-02 00:38:42:3842 [35mhttp[39m: [35m::1 - - [01/Jan/2026:18:53:42 +0000] "POST /api/v1/products HTTP/1.1" 409 316 "http://localhost:4001/" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36"[39m
prisma:query SELECT "public"."users"."id", "public"."users"."email", "public"."users"."username", "public"."users"."role"::text, "public"."users"."isActive" FROM "public"."users" WHERE ("public"."users"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."categories"."id", "public"."categories"."name", "public"."categories"."slug", "public"."categories"."description", "public"."categories"."image", "public"."categories"."isActive", "public"."categories"."parentId", "public"."categories"."createdAt", "public"."categories"."updatedAt", "public"."categories"."internalLink" FROM "public"."categories" WHERE ("public"."categories"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."products"."id", "public"."products"."name", "public"."products"."slug", "public"."products"."description", "public"."products"."shortDescription", "public"."products"."price", "public"."products"."comparePrice", "public"."products"."costPrice", "public"."products"."margin", "public"."products"."sku", "public"."products"."barcode", "public"."products"."upc", "public"."products"."ean", "public"."products"."isbn", "public"."products"."trackQuantity", "public"."products"."quantity", "public"."products"."lowStockThreshold", "public"."products"."allowBackorder", "public"."products"."manageStock", "public"."products"."weight", "public"."products"."weightUnit", "public"."products"."dimensions", "public"."products"."images", "public"."products"."videos", "public"."products"."thumbnail", "public"."products"."seoTitle", "public"."products"."seoDescription", "public"."products"."seoKeywords", "public"."products"."metaTags", "public"."products"."isActive", "public"."products"."isDigital", "public"."products"."isFeatured", "public"."products"."isNew", "public"."products"."isOnSale", "public"."products"."isBestSeller", "public"."products"."visibility"::text, "public"."products"."publishedAt", "public"."products"."categoryId", "public"."products"."tags", "public"."products"."requiresShipping", "public"."products"."shippingClass", "public"."products"."freeShipping", "public"."products"."taxable", "public"."products"."taxClass", "public"."products"."customFields", "public"."products"."notes", "public"."products"."createdAt", "public"."products"."updatedAt", "public"."products"."brandId", "public"."products"."subCategoryId", "public"."products"."canonicalUrl", "public"."products"."focusKeyword", "public"."products"."ogImage" FROM "public"."products" WHERE ("public"."products"."slug" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query INSERT INTO "public"."products" ("id","name","slug","description","shortDescription","price","sku","trackQuantity","quantity","lowStockThreshold","allowBackorder","manageStock","weight","weightUnit","dimensions","images","videos","seoKeywords","isActive","isDigital","isFeatured","isNew","isOnSale","isBestSeller","visibility","publishedAt","categoryId","tags","requiresShipping","freeShipping","taxable","createdAt","updatedAt") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,CAST($25::text AS "public"."ProductVisibility"),$26,$27,$28,$29,$30,$31,$32,$33) RETURNING "public"."products"."id", "public"."products"."name", "public"."products"."slug", "public"."products"."description", "public"."products"."shortDescription", "public"."products"."price", "public"."products"."comparePrice", "public"."products"."costPrice", "public"."products"."margin", "public"."products"."sku", "public"."products"."barcode", "public"."products"."upc", "public"."products"."ean", "public"."products"."isbn", "public"."products"."trackQuantity", "public"."products"."quantity", "public"."products"."lowStockThreshold", "public"."products"."allowBackorder", "public"."products"."manageStock", "public"."products"."weight", "public"."products"."weightUnit", "public"."products"."dimensions", "public"."products"."images", "public"."products"."videos", "public"."products"."thumbnail", "public"."products"."seoTitle", "public"."products"."seoDescription", "public"."products"."seoKeywords", "public"."products"."metaTags", "public"."products"."isActive", "public"."products"."isDigital", "public"."products"."isFeatured", "public"."products"."isNew", "public"."products"."isOnSale", "public"."products"."isBestSeller", "public"."products"."visibility"::text, "public"."products"."publishedAt", "public"."products"."categoryId", "public"."products"."tags", "public"."products"."requiresShipping", "public"."products"."shippingClass", "public"."products"."freeShipping", "public"."products"."taxable", "public"."products"."taxClass", "public"."products"."customFields", "public"."products"."notes", "public"."products"."createdAt", "public"."products"."updatedAt", "public"."products"."brandId", "public"."products"."subCategoryId", "public"."products"."canonicalUrl", "public"."products"."focusKeyword", "public"."products"."ogImage"
prisma:error 
Invalid `prisma.product.create()` invocation in
/home/theaavashh/workplace/celebrate-multi/gharsamma-ecommerce/apps/api/src/controllers/productController.ts:632:42

  629   };
  630 }
  631 
â†’ 632 const product = await prisma.product.create(
Unique constraint failed on the fields: (`sku`)
2026-01-02 00:38:50:3850 [31merror[39m: [31mCreate product error: [39m
[31mInvalid `prisma.product.create()` invocation in[39m
[31m/home/theaavashh/workplace/celebrate-multi/gharsamma-ecommerce/apps/api/src/controllers/productController.ts:632:42[39m

[31m  629   };[39m
[31m  630 }[39m
[31m  631 [39m
[31mâ†’ 632 const product = await prisma.product.create([39m
[31mUnique constraint failed on the fields: (`sku`)[39m
2026-01-02 00:38:50:3850 [31merror[39m: [31mError occurred:[39m
2026-01-02 00:38:50:3850 [35mhttp[39m: [35m::1 - - [01/Jan/2026:18:53:50 +0000] "POST /api/v1/products HTTP/1.1" 500 - "http://localhost:4001/" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36"[39m
prisma:query SELECT 1
prisma:query SELECT 1
prisma:query SELECT COUNT(*) FROM (SELECT "public"."products"."id" FROM "public"."products" WHERE "public"."products"."isActive" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."products"."id", "public"."products"."name", "public"."products"."slug", "public"."products"."description", "public"."products"."shortDescription", "public"."products"."price", "public"."products"."comparePrice", "public"."products"."costPrice", "public"."products"."margin", "public"."products"."sku", "public"."products"."barcode", "public"."products"."upc", "public"."products"."ean", "public"."products"."isbn", "public"."products"."trackQuantity", "public"."products"."quantity", "public"."products"."lowStockThreshold", "public"."products"."allowBackorder", "public"."products"."manageStock", "public"."products"."weight", "public"."products"."weightUnit", "public"."products"."dimensions", "public"."products"."images", "public"."products"."videos", "public"."products"."thumbnail", "public"."products"."seoTitle", "public"."products"."seoDescription", "public"."products"."seoKeywords", "public"."products"."metaTags", "public"."products"."isActive", "public"."products"."isDigital", "public"."products"."isFeatured", "public"."products"."isNew", "public"."products"."isOnSale", "public"."products"."isBestSeller", "public"."products"."visibility"::text, "public"."products"."publishedAt", "public"."products"."categoryId", "public"."products"."tags", "public"."products"."requiresShipping", "public"."products"."shippingClass", "public"."products"."freeShipping", "public"."products"."taxable", "public"."products"."taxClass", "public"."products"."customFields", "public"."products"."notes", "public"."products"."createdAt", "public"."products"."updatedAt", "public"."products"."brandId", "public"."products"."subCategoryId", "public"."products"."canonicalUrl", "public"."products"."focusKeyword", "public"."products"."ogImage", COALESCE("aggr_selection_0_Review"."_aggr_count_reviews", 0) AS "_aggr_count_reviews" FROM "public"."products" LEFT JOIN (SELECT "public"."reviews"."productId", COUNT(*) AS "_aggr_count_reviews" FROM "public"."reviews" WHERE 1=1 GROUP BY "public"."reviews"."productId") AS "aggr_selection_0_Review" ON ("public"."products"."id" = "aggr_selection_0_Review"."productId") WHERE "public"."products"."isActive" = $1 ORDER BY "public"."products"."createdAt" DESC LIMIT $2 OFFSET $3
2026-01-02 00:40:46:4046 [35mhttp[39m: [35m::1 - - [01/Jan/2026:18:55:46 +0000] "GET /api/v1/products HTTP/1.1" 200 131 "-" "curl/8.5.0"[39m
prisma:query SELECT "public"."users"."id", "public"."users"."email", "public"."users"."username", "public"."users"."firstName", "public"."users"."lastName", "public"."users"."phone", "public"."users"."avatar", "public"."users"."role"::text, "public"."users"."isActive", "public"."users"."emailVerified", "public"."users"."createdAt", "public"."users"."updatedAt" FROM "public"."users" WHERE ("public"."users"."id" = $1 AND "public"."users"."role" = CAST($2::text AS "public"."UserRole") AND "public"."users"."isActive" = $3) LIMIT $4 OFFSET $5
2026-01-02 00:51:59:5159 [35mhttp[39m: [35m::1 - - [01/Jan/2026:19:06:59 +0000] "GET /api/v1/admin/profile HTTP/1.1" 304 - "http://localhost:4001/" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36"[39m
prisma:query SELECT "public"."products"."id", "public"."products"."name", "public"."products"."slug", "public"."products"."description", "public"."products"."shortDescription", "public"."products"."price", "public"."products"."comparePrice", "public"."products"."costPrice", "public"."products"."margin", "public"."products"."sku", "public"."products"."barcode", "public"."products"."upc", "public"."products"."ean", "public"."products"."isbn", "public"."products"."trackQuantity", "public"."products"."quantity", "public"."products"."lowStockThreshold", "public"."products"."allowBackorder", "public"."products"."manageStock", "public"."products"."weight", "public"."products"."weightUnit", "public"."products"."dimensions", "public"."products"."images", "public"."products"."videos", "public"."products"."thumbnail", "public"."products"."seoTitle", "public"."products"."seoDescription", "public"."products"."seoKeywords", "public"."products"."metaTags", "public"."products"."isActive", "public"."products"."isDigital", "public"."products"."isFeatured", "public"."products"."isNew", "public"."products"."isOnSale", "public"."products"."isBestSeller", "public"."products"."visibility"::text, "public"."products"."publishedAt", "public"."products"."categoryId", "public"."products"."tags", "public"."products"."requiresShipping", "public"."products"."shippingClass", "public"."products"."freeShipping", "public"."products"."taxable", "public"."products"."taxClass", "public"."products"."customFields", "public"."products"."notes", "public"."products"."createdAt", "public"."products"."updatedAt", "public"."products"."brandId", "public"."products"."subCategoryId", "public"."products"."canonicalUrl", "public"."products"."focusKeyword", "public"."products"."ogImage", COALESCE("aggr_selection_0_Review"."_aggr_count_reviews", 0) AS "_aggr_count_reviews" FROM "public"."products" LEFT JOIN (SELECT "public"."reviews"."productId", COUNT(*) AS "_aggr_count_reviews" FROM "public"."reviews" WHERE 1=1 GROUP BY "public"."reviews"."productId") AS "aggr_selection_0_Review" ON ("public"."products"."id" = "aggr_selection_0_Review"."productId") WHERE "public"."products"."isActive" = $1 ORDER BY "public"."products"."createdAt" DESC LIMIT $2 OFFSET $3
prisma:query SELECT COUNT(*) FROM (SELECT "public"."products"."id" FROM "public"."products" WHERE "public"."products"."isActive" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."brands"."id", "public"."brands"."name", "public"."brands"."logo", "public"."brands"."website", "public"."brands"."createdAt", "public"."brands"."updatedAt", COALESCE("aggr_selection_0_Product"."_aggr_count_products", 0) AS "_aggr_count_products" FROM "public"."brands" LEFT JOIN (SELECT "public"."products"."brandId", COUNT(*) AS "_aggr_count_products" FROM "public"."products" WHERE 1=1 GROUP BY "public"."products"."brandId") AS "aggr_selection_0_Product" ON ("public"."brands"."id" = "aggr_selection_0_Product"."brandId") WHERE 1=1 ORDER BY "public"."brands"."name" ASC OFFSET $1
2026-01-02 00:51:59:5159 [35mhttp[39m: [35m::1 - - [01/Jan/2026:19:06:59 +0000] "GET /api/v1/products HTTP/1.1" 304 - "http://localhost:4001/" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36"[39m
2026-01-02 00:51:59:5159 [35mhttp[39m: [35m::1 - - [01/Jan/2026:19:06:59 +0000] "GET /api/v1/brands HTTP/1.1" 304 - "http://localhost:4001/" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36"[39m
prisma:query SELECT "public"."categories"."id", "public"."categories"."name", "public"."categories"."slug", "public"."categories"."description", "public"."categories"."image", "public"."categories"."isActive", "public"."categories"."parentId", "public"."categories"."createdAt", "public"."categories"."updatedAt", "public"."categories"."internalLink", COALESCE("aggr_selection_0_Product"."_aggr_count_products", 0) AS "_aggr_count_products" FROM "public"."categories" LEFT JOIN (SELECT "public"."products"."categoryId", COUNT(*) AS "_aggr_count_products" FROM "public"."products" WHERE 1=1 GROUP BY "public"."products"."categoryId") AS "aggr_selection_0_Product" ON ("public"."categories"."id" = "aggr_selection_0_Product"."categoryId") WHERE ("public"."categories"."isActive" = $1 AND "public"."categories"."parentId" IS NULL) ORDER BY "public"."categories"."name" ASC OFFSET $2
prisma:query SELECT "public"."categories"."id", "public"."categories"."name", "public"."categories"."slug", "public"."categories"."description", "public"."categories"."image", "public"."categories"."isActive", "public"."categories"."parentId", "public"."categories"."createdAt", "public"."categories"."updatedAt", "public"."categories"."internalLink", COALESCE("aggr_selection_0_Product"."_aggr_count_products", 0) AS "_aggr_count_products" FROM "public"."categories" LEFT JOIN (SELECT "public"."products"."categoryId", COUNT(*) AS "_aggr_count_products" FROM "public"."products" WHERE 1=1 GROUP BY "public"."products"."categoryId") AS "aggr_selection_0_Product" ON ("public"."categories"."id" = "aggr_selection_0_Product"."categoryId") WHERE ("public"."categories"."isActive" = $1 AND "public"."categories"."parentId" IN ($2)) ORDER BY "public"."categories"."name" ASC OFFSET $3
2026-01-02 00:51:59:5159 [35mhttp[39m: [35m::1 - - [01/Jan/2026:19:06:59 +0000] "GET /api/v1/categories HTTP/1.1" 200 408 "http://localhost:4001/" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36"[39m
prisma:query SELECT "public"."products"."id", "public"."products"."name", "public"."products"."slug", "public"."products"."description", "public"."products"."shortDescription", "public"."products"."price", "public"."products"."comparePrice", "public"."products"."costPrice", "public"."products"."margin", "public"."products"."sku", "public"."products"."barcode", "public"."products"."upc", "public"."products"."ean", "public"."products"."isbn", "public"."products"."trackQuantity", "public"."products"."quantity", "public"."products"."lowStockThreshold", "public"."products"."allowBackorder", "public"."products"."manageStock", "public"."products"."weight", "public"."products"."weightUnit", "public"."products"."dimensions", "public"."products"."images", "public"."products"."videos", "public"."products"."thumbnail", "public"."products"."seoTitle", "public"."products"."seoDescription", "public"."products"."seoKeywords", "public"."products"."metaTags", "public"."products"."isActive", "public"."products"."isDigital", "public"."products"."isFeatured", "public"."products"."isNew", "public"."products"."isOnSale", "public"."products"."isBestSeller", "public"."products"."visibility"::text, "public"."products"."publishedAt", "public"."products"."categoryId", "public"."products"."tags", "public"."products"."requiresShipping", "public"."products"."shippingClass", "public"."products"."freeShipping", "public"."products"."taxable", "public"."products"."taxClass", "public"."products"."customFields", "public"."products"."notes", "public"."products"."createdAt", "public"."products"."updatedAt", "public"."products"."brandId", "public"."products"."subCategoryId", "public"."products"."canonicalUrl", "public"."products"."focusKeyword", "public"."products"."ogImage", COALESCE("aggr_selection_0_Review"."_aggr_count_reviews", 0) AS "_aggr_count_reviews" FROM "public"."products" LEFT JOIN (SELECT "public"."reviews"."productId", COUNT(*) AS "_aggr_count_reviews" FROM "public"."reviews" WHERE 1=1 GROUP BY "public"."reviews"."productId") AS "aggr_selection_0_Review" ON ("public"."products"."id" = "aggr_selection_0_Review"."productId") WHERE "public"."products"."isActive" = $1 ORDER BY "public"."products"."createdAt" DESC LIMIT $2 OFFSET $3
prisma:query SELECT COUNT(*) FROM (SELECT "public"."products"."id" FROM "public"."products" WHERE "public"."products"."isActive" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."brands"."id", "public"."brands"."name", "public"."brands"."logo", "public"."brands"."website", "public"."brands"."createdAt", "public"."brands"."updatedAt", COALESCE("aggr_selection_0_Product"."_aggr_count_products", 0) AS "_aggr_count_products" FROM "public"."brands" LEFT JOIN (SELECT "public"."products"."brandId", COUNT(*) AS "_aggr_count_products" FROM "public"."products" WHERE 1=1 GROUP BY "public"."products"."brandId") AS "aggr_selection_0_Product" ON ("public"."brands"."id" = "aggr_selection_0_Product"."brandId") WHERE 1=1 ORDER BY "public"."brands"."name" ASC OFFSET $1
prisma:query SELECT "public"."categories"."id", "public"."categories"."name", "public"."categories"."slug", "public"."categories"."description", "public"."categories"."image", "public"."categories"."isActive", "public"."categories"."parentId", "public"."categories"."createdAt", "public"."categories"."updatedAt", "public"."categories"."internalLink", COALESCE("aggr_selection_0_Product"."_aggr_count_products", 0) AS "_aggr_count_products" FROM "public"."categories" LEFT JOIN (SELECT "public"."products"."categoryId", COUNT(*) AS "_aggr_count_products" FROM "public"."products" WHERE 1=1 GROUP BY "public"."products"."categoryId") AS "aggr_selection_0_Product" ON ("public"."categories"."id" = "aggr_selection_0_Product"."categoryId") WHERE ("public"."categories"."isActive" = $1 AND "public"."categories"."parentId" IS NULL) ORDER BY "public"."categories"."name" ASC OFFSET $2
2026-01-02 00:51:59:5159 [35mhttp[39m: [35m::1 - - [01/Jan/2026:19:06:59 +0000] "GET /api/v1/products HTTP/1.1" 304 - "http://localhost:4001/" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36"[39m
2026-01-02 00:51:59:5159 [35mhttp[39m: [35m::1 - - [01/Jan/2026:19:06:59 +0000] "GET /api/v1/brands HTTP/1.1" 304 - "http://localhost:4001/" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36"[39m
2026-01-02 00:51:59:5159 [35mhttp[39m: [35m::1 - - [01/Jan/2026:19:06:59 +0000] "GET /api/v1/categories HTTP/1.1" 304 - "http://localhost:4001/" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36"[39m
prisma:query SELECT "public"."categories"."id", "public"."categories"."name", "public"."categories"."slug", "public"."categories"."description", "public"."categories"."image", "public"."categories"."isActive", "public"."categories"."parentId", "public"."categories"."createdAt", "public"."categories"."updatedAt", "public"."categories"."internalLink", COALESCE("aggr_selection_0_Product"."_aggr_count_products", 0) AS "_aggr_count_products" FROM "public"."categories" LEFT JOIN (SELECT "public"."products"."categoryId", COUNT(*) AS "_aggr_count_products" FROM "public"."products" WHERE 1=1 GROUP BY "public"."products"."categoryId") AS "aggr_selection_0_Product" ON ("public"."categories"."id" = "aggr_selection_0_Product"."categoryId") WHERE ("public"."categories"."isActive" = $1 AND "public"."categories"."parentId" IN ($2)) ORDER BY "public"."categories"."name" ASC OFFSET $3
